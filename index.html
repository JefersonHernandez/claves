<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mis Contactos</title>
    <link rel="stylesheet" href="/css/bulma.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/img/icons/icon_96.png">
    <meta name="apple-mobile-web-app-status-bar" content="6EC289">
    <meta name="theme-color" content="#3367D6">
</head>

<body>
    <nav class="navbar" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <a class="navbar-item" href="/index.html">
                <img src="https://bulma.io/images/bulma-logo.png" width="112" height="28">
            </a>

            <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false"
                data-target="navbarBasicExample">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>

        <div id="navbarBasicExample" class="navbar-menu">
            <div class="navbar-start">
                <a href="/index.html" class="navbar-item">
                    Inicio
                </a>

                <a href="/pages/sitios.html" class="navbar-item">
                    Sitios
                </a>
                <a href="/pages/acerca.html" class="navbar-item">
                    Acerca
                </a>

            </div>
        </div>
    </nav>
    <section class="hero">
        <div class="hero-body">
            <div class="container">
                <h1 class="title">
                    Sitios y Claves
                </h1>
            </div>
        </div>
    </section>

    <button class="button" onclick="verModal();">Button</button>
    <section class="hero">
        <div class="hero-body">
            <div class="container">
                <h1 class="title">
                    Opciones
                </h1>
                <a id="list_sites">list</a>
                <script>
                    const list = document.querySelector("#list_sites");
                    list.onclick = () => {
                        fetch("https://javaaaaaaa.herokuapp.com:8080/claves/sites/", {
                            method: 'get', // *GET, POST, PUT, DELETE, etc.
                           // mode: 'cors', // no-cors, *cors, same-origin
                            //cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached
                            //credentials: 'same-origin', // include, *same-origin, omit
                          //  headers: {
                            //    'Content-Type': 'application/json',
                              //  "Access-Control-Allow-Origin": "*",
                             //"Access-Control-Allow-Credentials": true
                            
                                // 'Content-Type': 'application/x-www-form-urlencoded',
                           //},
                           // redirect: 'follow', // manual, *follow, error
                           // referrerPolicy: 'no-referrer' // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url
                            // body: JSON.stringify(data) // body data type must match "Content-Type" header
                            //, charset='utf-8'
                        })
                            .then(response => response.json())
                            .then(data => {
                                data = data[0]
                                console.log(data.address);
                                console.log(data.password);
                            }).finally(e=>console.log("end"))
                    }
                </script>
            </div>
        </div>
    </section>

    <div class="modal" id="modal-form">
        <div class="modal-background"></div>
        <div class="modal-content">
            <!-- Any other Bulma elements you want -->
            <section class="hero">
                <div class="hero-body">
                    <div class="container notification is-light">
                        <h1 class="title">
                            Confirmacion
                        </h1>
                        <form action="" id="addclave">
                            <div class="field">
                                <div class="control">
                                    <input class="input is-small" type="text" placeholder="Sitio" name="sitio">
                                </div>
                            </div>
                            <div class="field">
                                <div class="control">
                                    <input class="input is-small" type="text" placeholder="Clave" name="clave">
                                </div>
                            </div>
                            <div class="field">
                                <div class="control">
                                    <input class="input is-small" type="email" placeholder="Email" name="email">
                                </div>
                            </div>
                            <div class="field">
                                <div class="control">
                                    <button class="button is-info is-small" onclick="cerrarModal();">cerrar</button>
                                    <button class="button is-success is-small" style="float:right;">guardar</button>
                                </div>
                            </div>
                            <p class="error"></p>
                        </form>

                    </div>
                </div>
            </section>
        </div>

    </div>
    <footer class="footer">
        <div class="content has-text-centered">
            <p>
                <strong>Claves</strong> by <a href="#">Jeferson Hernandez</a>
            </p>
        </div>
    </footer>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-firestore.js"></script>
    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyB8sBU5-kaZrbDT__8c1zbyrrAsAG4e07w",
            authDomain: "claves-affab.firebaseapp.com",
            projectId: "claves-affab",
            storageBucket: "claves-affab.appspot.com",
            messagingSenderId: "938921126852",
            appId: "1:938921126852:web:c0eed365219f9f45009291"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
    </script>
    <script src="/js/db.js"></script>
    <script src="/js/ui.js"></script>
    <script src="/js/app.js"></script>
</body>

</html>
